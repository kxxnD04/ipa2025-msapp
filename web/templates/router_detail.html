<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Router Detail - {{ router_ip }}</title>
    <link rel="stylesheet" href="/static/style.css" />
    <meta http-equiv="refresh" content="10">
</head>
<body>
    <div class="container">
        <h1>Router: {{ router_ip }}</h1>
        <h2>Updating every 10 seconds with the last 3 records.</h2>

        <div class="glass-card">
            {% if status_data %}
                <table>
                    <thead>
                        <tr>
                            <th>Timestamp</th>
                            <th>Interface</th>
                            <th>IP Address</th>
                            <th>Status</th>
                            <th>Protocol</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for doc in status_data %}
                            {% for intf in doc.interfaces %}
                            <tr>
                                <td>{{ doc.timestamp }}</td>
                                <td>{{ intf.interface }}</td>
                                <td>{{ intf.ip_address }}</td>
                                <td>{{ intf.status }}</td>
                                <td>{{ intf.proto }}</td>
                            </tr>
                            {% endfor %}
                        {% endfor %}
                    </tbody>
                </table>
            {% else %}
                <p style="text-align: center;">No status data found for this router.</p>
            {% endif %}
        </div>
        
        <p style="text-align: center;">
            <a href="{{ url_for('main') }}" class="btn">Back to Router List</a>
        </p>
    </div>
</body>
</html>